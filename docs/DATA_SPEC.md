# 📘 DATA_SPEC.md

**テニスコート予約アプリ — データ仕様書**

---

## ■ 予約データ仕様（reservations.csv）

| カラム名         | 型       | 内容                             | 入力方法・備考                           |
| ---------------- | -------- | -------------------------------- | ---------------------------------------- |
| id               | string   | 一意の予約ID（UUID）             | 自動生成（アプリ側で付与）               |
| date             | date     | 予約日                           | カレンダーから選択（日単位）             |
| time             | datetime | 開始日時                         | プルダウン指定（時刻部分）               |
| end_time         | datetime | 終了日時                         | プルダウン指定（時刻部分）               |
| location         | string   | 施設名                           | 直接入力                                 |
| participants_yes | integer  | 参加者数                         | 参加表明画面から自動反映                 |
| participants_no  | integer  | 不参加者数                       | 同上                                     |
| created_by       | string   | 登録者のニックネーム             | 手入力または自動補完                     |
| created_at       | datetime | 登録日時                         | 自動記録（システム日時）                 |
| status           | string   | 状態（確保／抽選中／中止／完了） | 自動判定。日付経過で「完了」化、灰色表示 |

---

## ■ ファイル構成

- 保存先：`data/reservations.csv`
- 文字コード：UTF-8
- 区切り文字：カンマ（`,`）

---

## ■ 運用ルール

1. アプリ起動時に `reservations.csv` を読み込み。
2. 新規登録・編集・削除時は即時ファイル更新。
3. 日付が過ぎた予約は自動で `status="完了"` に変更。
4. 削除時には確認ダイアログを表示し、誤操作を防止。
5. 将来的にバックアップ機能（例：過去3か月分を別ファイル保存）を追加予定。

---

## ■ 拡張予定

- 抽選情報（lottery_period.csv）を別管理。
- API連携機能（Google Calendarなど）を将来オプションとして検討。
