
# 🎾 **テニスコート予約管理アプリ 仕様書（v1.2）更新日2025/11/15**

---

# 1. 概要

本アプリは、複数メンバーによるテニスコートの「抽選・予約・参加状況」を一元管理するための Web アプリである。

スマートフォン（縦画面）で快適に操作でき、カレンダー中心で直感的に予約状況を確認できる。

---

# 2. 目的

* 誰が・どこの施設を・いつ予約／抽選しているかを全員で共有
* 抽選期間を忘れないよう管理
* LINE・スプレッドシートよりも高速で見やすい運用を実現
* 直感的な入力体験（autocomplete 風入力）を採用して入力ミス防止

---

# 3. 機能概要（最新版）

| 項目             | 内容                                                       |
| ---------------- | ---------------------------------------------------------- |
| 表示形式         | 月カレンダー（スマホ最適化）                               |
| 表示項目         | 施設名、時間帯、担当者（ニックネーム）、状態、参加人数など |
| 状態カラー       | 確保＝🟩 / 抽選中＝🟨 / 中止＝⬜ / 完了＝⬜                |
| 詳細モーダル     | 日付タップで予約一覧・登録・編集・削除が可能               |
| 入力方式         | 入力と同時に候補を提示する autocomplete UI（独自 JS 実装） |
| 施設名入力       | Autocomplete による候補提示（スマホ最適化）                |
| ニックネーム入力 | Autocomplete による候補提示（ENTER 不要・即候補）          |
| 時間入力         | プルダウン（10分刻み）                                     |
| メッセージ欄     | 改行対応（`<br>`に自動変換し正常表示）                   |
| 参加表明管理     | 参加 / 不参加（将来：検討中）                              |
| 参加人数         | カレンダー上に人数表示                                     |
| データ保存       | CSV（Google Sheets 連携は将来対応）                        |

---

# 4. **抽選期間管理（v1.2 新規追加仕様）**

| 項目     | 仕様                                                               |
| -------- | ------------------------------------------------------------------ |
| 抽選内容 | 例：区民コート抽選・都営コート抽選                                 |
| 抽選情報 | 抽選名、URL、応募期間（開始日〜締切日）                            |
| 登録方法 | アプリ内から新規登録（管理者向け）                                 |
| 表示     | 「抽選期間一覧」ページで確認可能                                   |
| 通知     | 期間開始や締切前に「お知らせ」として画面上に表示（v1.3で実装予定） |

---

# 5. 将来実装予定（バックログ）

### ★★★（高優先）

### 🆕 **参加表明コメント機能（今回の要望に対応）**

* 参加時にコメントを添付
* 表示例：
  * たろう：◯（遅れて合流します）
  * ゆうき：×（予定あり）
* 改行対応・誰が何をコメントしたか一覧表示

---

### ★★★

### **お知らせ（通知）機能**

* 抽選期間の開始
* 抽選締切の数日前アラート
* 予約変更/中止のお知らせ

---

### ★★☆

### **リストビュー（表形式一覧）**

* カレンダーとは別に「表形式」で予約・参加状況を一覧表示
* CSV 書き出しも可能

---

### ★★☆

### **参加ステータスの拡張**

* 参加 ◯
* 不参加 ×
* **検討中 △（新）**

---

# 6. データ構造（現行＋拡張予定）

| テーブル                 | 内容                                         |
| ------------------------ | -------------------------------------------- |
| reservations             | 基本の予約情報（施設・担当者・時間・状態等） |
| participants（将来拡張） | 参加者ごとの参加状態＋コメント               |
| lottery_periods          | 抽選名、URL、開始日、締切日                  |
| notices（将来）          | 通知履歴、お知らせ内容                       |

---

# 7. UI・UX方針（現行）

| 要素       | 内容                               |
| ---------- | ---------------------------------- |
| 操作性     | スマホで片手で操作可能にする       |
| 入力体験   | autocomplete による素早い候補表示  |
| ボタン配置 | 予約登録ボタンはモーダル下部に固定 |
| カラー     | ミント × オレンジ × ホワイト     |
| 表示       | カード風のシンプルなモーダル表示   |

---

# 8. 今後の開発フロー（v1.2 → v1.3）

1. v1.2 仕様更新（今回完了）
2. 抽選期間登録UIの整備
3. お知らせ機能のプロトタイプ実装
4. 参加表明コメント実装
5. リストビュー（予約一覧）作成
6. 検討中ステータス追加
7. 全体 UI 調整・微修正
